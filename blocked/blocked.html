<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website Blocked - Focuser</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            text-align: center;
            max-width: 600px;
            background: rgba(255, 255, 255, 0.1);
            padding: 60px 40px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .icon {
            width: 100px;
            height: 100px;
            margin: 0 auto 30px;
            opacity: 0.9;
        }

        h1 {
            font-size: 42px;
            font-weight: 700;
            margin-bottom: 20px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .message {
            font-size: 20px;
            margin-bottom: 40px;
            opacity: 0.9;
            line-height: 1.6;
        }

        .actions {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-bottom: 50px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-width: 140px;
        }

        .btn-primary {
            background: white;
            color: #667eea;
        }

        .btn-primary:hover {
            background: #f8fafc;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-3px);
        }

        .tips {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: left;
        }

        .tips h3 {
            margin-bottom: 20px;
            font-size: 20px;
            font-weight: 600;
            text-align: center;
        }

        .tips ul {
            list-style: none;
            padding: 0;
        }

        .tips li {
            padding: 10px 0;
            position: relative;
            padding-left: 25px;
            font-size: 16px;
            line-height: 1.5;
        }

        .tips li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: #10b981;
            font-weight: bold;
            font-size: 18px;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-number {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 12px;
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .footer {
            opacity: 0.7;
            font-size: 14px;
        }

        .motivational-quote {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-style: italic;
            font-size: 16px;
            border-left: 4px solid rgba(255, 255, 255, 0.3);
        }

        @media (max-width: 768px) {
            .container {
                padding: 40px 30px;
                margin: 10px;
            }

            h1 {
                font-size: 32px;
            }

            .message {
                font-size: 18px;
            }

            .actions {
                flex-direction: column;
                align-items: center;
            }

            .btn {
                width: 100%;
                max-width: 250px;
            }

            .tips {
                padding: 20px;
            }

            .stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 30px 20px;
            }

            h1 {
                font-size: 28px;
            }

            .icon {
                width: 80px;
                height: 80px;
            }

            .stats {
                grid-template-columns: 1fr;
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .container {
            animation: fadeIn 0.6s ease-out;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="4.93" y1="4.93" x2="19.07" y2="19.07"></line>
            </svg>
        </div>
        
        <h1>Website Blocked</h1>
        
        <p class="message">
            This website has been blocked to help you stay focused and productive. 
            Take this moment to refocus on your important tasks.
        </p>

        <div class="motivational-quote">
            "The successful warrior is the average person with laser-like focus." ‚Äî Bruce Lee
        </div>

        <div class="actions">
            <button class="btn btn-primary" data-action="go-back">
                ‚Üê Go Back
            </button>
            <button class="btn btn-secondary" data-action="open-focuser">
                Open Focuser
            </button>
        </div>

        <div class="stats" id="stats">
            <div class="stat">
                <div class="stat-number" id="sessionsToday">0</div>
                <div class="stat-label">Sessions Today</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="focusTime">0h</div>
                <div class="stat-label">Focus Time</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="sitesBlocked">0</div>
                <div class="stat-label">Sites Blocked</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="productivity">85%</div>
                <div class="stat-label">Productivity</div>
            </div>
        </div>

        <div class="tips">
            <h3>üéØ Focus Tips</h3>
            <ul>
                <li>Use the Pomodoro technique: 25 minutes focused work, 5 minutes break</li>
                <li>Create a prioritized task list and tackle the most important items first</li>
                <li>Eliminate distractions by closing unnecessary tabs and applications</li>
                <li>Take regular breaks to maintain mental clarity and energy</li>
                <li>Set specific goals for each work session to stay motivated</li>
                <li>Practice deep breathing if you feel overwhelmed or distracted</li>
            </ul>
        </div>

        <div class="footer">
            <small>Blocked by Focuser Extension ‚Ä¢ <span id="currentTime"></span></small>
        </div>
    </div>

    <script>
        // Update current time
        function updateTime() {
            const now = new Date();
            document.getElementById('currentTime').textContent = now.toLocaleTimeString();
        }
        
        setInterval(updateTime, 1000);
        updateTime();

        // Load statistics
        async function loadStats() {
            try {
                const result = await chrome.storage.local.get(['statistics']);
                const stats = result.statistics || {};
                
                document.getElementById('sessionsToday').textContent = stats.sessionsCompleted || 0;
                document.getElementById('focusTime').textContent = formatTime(stats.totalFocusTime || 0);
                document.getElementById('sitesBlocked').textContent = stats.sitesBlocked || 0;
                
                // Calculate productivity score
                const productivity = calculateProductivity(stats);
                document.getElementById('productivity').textContent = productivity + '%';
            } catch (error) {
                console.log('Could not load statistics');
            }
        }

        function formatTime(minutes) {
            if (minutes < 60) {
                return minutes + 'm';
            }
            const hours = Math.floor(minutes / 60);
            const remainingMinutes = minutes % 60;
            return remainingMinutes > 0 ? `${hours}h ${remainingMinutes}m` : `${hours}h`;
        }

        function calculateProductivity(stats) {
            // Simple productivity calculation based on sessions and time
            const sessions = stats.sessionsCompleted || 0;
            const focusTime = stats.totalFocusTime || 0;
            
            if (sessions === 0) return 0;
            
            // Base score on session completion and average session length
            const avgSessionLength = focusTime / sessions;
            const sessionScore = Math.min(sessions * 10, 60); // Max 60 points for sessions
            const timeScore = Math.min(avgSessionLength * 2, 40); // Max 40 points for avg time
            
            return Math.min(Math.round(sessionScore + timeScore), 100);
        }

        function openFocuser() {
            // Try to open the extension popup
            if (chrome && chrome.runtime) {
                chrome.runtime.sendMessage({ action: 'openPopup' });
            } else {
                // Fallback: show a message
                alert('Open the Focuser extension from your browser toolbar to manage your focus settings.');
            }
        }

        // Load stats when page loads
        loadStats();

        // Show motivational messages periodically
        const motivationalQuotes = [
            "The successful warrior is the average person with laser-like focus. ‚Äî Bruce Lee",
            "Concentrate all your thoughts upon the work at hand. The sun's rays do not burn until brought to a focus. ‚Äî Alexander Graham Bell",
            "It is during our darkest moments that we must focus to see the light. ‚Äî Aristotle",
            "The art of being wise is knowing what to overlook. ‚Äî William James",
            "Focus on being productive instead of busy. ‚Äî Tim Ferriss",
            "Your focus determines your reality. ‚Äî Qui-Gon Jinn",
            "Lack of direction, not lack of time, is the problem. We all have twenty-four hour days. ‚Äî Zig Ziglar"
        ];

        function updateQuote() {
            const randomQuote = motivationalQuotes[Math.floor(Math.random() * motivationalQuotes.length)];
            document.querySelector('.motivational-quote').textContent = randomQuote;
        }

        // Change quote every 30 seconds
        setInterval(updateQuote, 30000);

        // Add event listeners for buttons
        document.addEventListener('DOMContentLoaded', function() {
            const actionsContainer = document.querySelector('.actions');
            if (actionsContainer) {
                actionsContainer.addEventListener('click', function(event) {
                    const action = event.target.getAttribute('data-action');
                    
                    switch (action) {
                        case 'go-back':
                            history.back();
                            break;
                        case 'open-focuser':
                            openFocuser();
                            break;
                    }
                });
            }
        });
    </script>
</body>
</html>
